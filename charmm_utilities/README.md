Manipulating CHARMM parameter files
================================

These scripts are *UNSUPPORTED* and *UNOFFICIAL*. They may or may not work for you. There is NO WARRANTY of any kind. It is indeed quite possible that manipulated parameter files introduce errors in your simulations.

They are mostly useful for people using the results of the excellent [ParamChem](https://www.paramchem.org/) service for parametrizing ligands (and the corresponding CGenFF forcefield) in third-party MD software.


Split stream
------------

This hack parses a _ligand.str_ stream file such as the ones generated by [ParamChem](https://www.paramchem.org/)  and splits it into the corresponding topology section (usually named *top_ligand.rtf*), useful for building the system, and parameter section (*par_ligand.prm*), necessary for simulation.

Example usage:

    split_stream.pl ligand.str

Note that the operation is error-prone and depends on the version of ParamChem used (tested as of Oct-2013). The proper way to split parameter files is to use [CHARMM](http://www.charmm.org/) itself. Some errors are detected and marked on output.



Combine parameters
------------------

This hack combines various sections of several CHARMM-style parameter files. The most common use case is to merge a parameter file extracted from a ParamChem-generated stream into a pre-merged "catch-all" parameter file.

The _all-parameters_ directory provides two such files, analogous of those found in VMD, created from **(a)** the official CHARMM36 forcefield distribution _toppar_c36_aug12.tgz_ (available at http://mackerell.umaryland.edu/CHARMM_ff_params.html) and **(b)**  Aaron Oakley's CHARMM version of Charmm22* parameter set (available [here](http://home.uchicago.edu/~/kippjohnson/par_all22star_prot_revision-one.inp) ) .

Example usage:

    combine_parameters.pl par_all36_prot22_na_lipid_carb_ethers_cgenff_water_ions.prm par_warfarin.prm > parameters


__Important:  The results MAY BE WRONG.__  You should be doing this by hand. This script only provides a draft.  POSITIVELY DO NOT TRUST the resulting parameter file.  NBFIX, cutoffs, and many other parts are corrupted, and syntax errors are introduced. Triple-check! You should only rely on official software and your knowledge, not this script, to merge parameter files.


References
----------

* _Generalized Charmm FF:_  Vanommeslaeghe, Kenno, Eshwar Prabhu Raman, and Alexander D. MacKerell. “Automation of the CHARMM General Force Field (CGenFF) II: Assignment of Bonded Parameters and Partial Atomic Charges.” Journal of Chemical Information and Modeling (November 12, 2012). doi:10.1021/ci3003649.
* _Charmm22*:_  Piana S., Lindorff-Larsen K., Shaw D.E., How robust are protein folding simulations with respect to force field parameterization? Biophysics Journal, 101:L47-L49, 2011. doi:10.1016/j.bpj.2011.03.051
* _Original Charmm FF:_  Mackerell Jr., Alexander D, Michael Feig, and Charles L Brooks III. Extending the Treatment of Backbone Energetics in Protein Force Fields: Limitations of Gas-phase Quantum Mechanics in Reproducing Protein Conformational Distributions in Molecular Dynamics Simulations. Journal of Computational Chemistry 25, no. 11 (August 1, 2004): 1400–1415. doi:10.1002/jcc.20065. ,  MacKerell, A. D., D. Bashford, Bellott, R. L. Dunbrack, J. D. Evanseck, M. J. Field, S. Fischer, et al. “All-Atom Empirical Potential for Molecular Modeling and Dynamics Studies of Proteins.” The Journal of Physical Chemistry B 102, no. 18 (1998): 3586–3616. doi:10.1021/jp973084f.




